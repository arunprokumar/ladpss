<!--/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Copyright 2019 Adobe Systems Incorporated
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~     http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/-->
<!-- DPSS search result css/less files included-->
<sly data-sly-use.clientLib="/libs/granite/sightly/templates/clientlib.html"
     data-sly-call="${clientlib.css @ categories='core.wcm.components.searchresult.v1.component.dpss'}"/>

<section
	data-sly-use.search="com.adobe.aem.lacounty.dpss.core.corecomponents.models.Search"
	data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
	data-sly-use.facetTemplate="facet.html"
	data-sly-use.sortTemplate="sort.html" class="search__field--results">

	<sly data-sly-test="${search.facetEnabled}" data-sly-call="${facetTemplate.facet @ search=search}"></sly>
	<sly data-sly-test="${search.sortEnabled}" data-sly-call="${sortTemplate.sort @ search=search}"></sly>
</section>


<section data-cmp-results-size="${search.resultsSize}"
	data-cmp-relative-path="${search.relativePath}"
	class="search__field--view" id="js-display-diff-view">
	<div class="cmp-search__total-records"></div>
	<ul class="cmp-search-list__item-group">
	</ul>
	<div class="is--hidden cmp-searchresult-empty__msg" id="js-searchResults-endData"><p>${search.noResultText}</p></div>
</section>

<section class="search__results--footer load__more-search-results">
	<button>${search.loadMoreText} <span class="fa fa-chevron-down"></span></button>
</section>
<sly data-sly-call="${templates.placeholder @ isEmpty = !(search.results)}"></sly>


<!-- DPSS search result js files included-->
<sly data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html">
    <sly data-sly-call="${clientlib.js @ categories='core.wcm.components.searchresult.v1.component.dpss'}"/>
</sly>